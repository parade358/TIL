SELECT TL.LOC_ID, TLSI.SUB_LOC_ID FROM TB_LOC TL (NOLOCK)   
JOIN TB_LOC_SUB_INFO TLSI (NOLOCK) ON TL.LOC_ID = TLSI.LOC_ID AND TL.PLANT_ID = TLSI.PLANT_ID  
WHERE TL.PLANT_ID = '102' AND TL.IS_SUB ='0' AND TL.USE_SUB_LOC ='1' AND TL.VALID='1'  
UNION  
SELECT TL.LOC_ID,TL.LOC_ID FROM TB_LOC TL (NOLOCK) WHERE TL.IS_SUB ='0' AND TL.PLANT_ID = '102' AND TL.VALID ='1'

-- LOC_ID를 선택하고 위 쿼리로 나온 SUB_LOC_ID 를 바코드로 만들어서 찍으면 된다.
-- 현재창고 이동창고 동일

SELECT TI.LOC_ID, TP.U_INV_ITEM_ID, TI.LOT_NO 
FROM TB_INV TI(NOLOCK)  
JOIN TB_PART TP(NOLOCK) ON TI.PART_ID = TP.PART_ID AND TP.VALID ='1'  
WHERE TP.PLANT_ID = '102' AND LEN(TP.U_INV_ITEM_ID) = 7

-- 위에서 나온 로케이션 아이디로 위치 설정하고 LOT_NO와 INV_ID 로 바코드 만들기